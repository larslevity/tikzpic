\documentclass[tikz,border=10pt]{standalone}
\usetikzlibrary{calc}
\usetikzlibrary{backgrounds}

\tikzset{3D/.cd,
  x/.store in=\xx, x=0,
  y/.store in=\yy, y=0,
  z/.store in=\zz, z=0
}

\tikzdeclarecoordinatesystem{3D}{%
  \tikzset{3D/.cd,#1}%
  \pgfpoint{sin(\yy)*(\xx)}{-((\xx)/75)^2+(\zz)/100*(\xx)}%
}

\begin{document}
\begin{tikzpicture}[line join=round, very thin,
	help/.style={help lines, color=white},
	line/.style={draw, color=white!10!black},
	circline/.style={draw},
	background rectangle/.style={fill=black}, 
	show background rectangle
]
  \def\e{700}
  \foreach \x [evaluate={\i=mod(\x+90,360); \j=int((\i<180)*2-1); \t=5;
    \sc=\x/\e; \n=int((\e-\x)/15+1); \X=\x/\e;}, count=\c] in {10,25,...,\e} {

	\foreach \px [count=\cpx] in {0,.05, ..., 1.01}{
		\pgfmathsetmacro{\XX}{\X*6}
		\pgfmathsetmacro{\ZZ}{.5*\X*sin(\px*360)*sin(\X*360)}
		\begin{scope}[shift={(3D cs:x=\x,y={.5*sin(\x)})}]
			\path (-\XX/2,0)--++(\XX,0)coordinate[pos=\px](X\c\cpx);
			\path (X\c\cpx)++(0,\ZZ)coordinate(Z\c\cpx);
			\path[help] (-\XX/2,0)--++(\XX,0);
		\end{scope}
		\ifnum\cpx > 1
			\pgfmathtruncatemacro{\cpxm}{\cpx-1};
			\path[line] (Z\c\cpxm)--(Z\c\cpx);
		\fi
		\ifnum\c>1
			\pgfmathtruncatemacro{\cm}{\c-1};
			\path[help] (X\cm\cpx)--(X\c\cpx);
			\path[line] (Z\cm\cpx)--(Z\c\cpx);
		\fi
		\ifnum\c>1
			\ifnum\cpx>1
			\pgfmathtruncatemacro{\cpxm}{\cpx-1}
			\pgfmathtruncatemacro{\cm}{\c-1};
			\path (Z\cm\cpxm)--(Z\c\cpx)coordinate[midway](X);
			\pgfmathsetmacro{\red}{101-\X*100}
			\pgfmathsetmacro{\gree}{\px*40}
			\pgfmathsetmacro{\yell}{\X*50}
			\path[shift={(3D cs:x=\x,y={0})}, 
				xslant=sin(\X*360-10)*sin(\px*360+90),
				%yslant=sin(\px*360),
				circline,
				color={rgb:red,\red;green,\gree;yellow,\yell}] 
				(X)circle(.1*\X);
		\fi\fi
		}

%    \path [shift={(3D cs:x=\x-\t,y={4*sin(\x-\t)})}, yslant=cos(\x)/5]
%      (-\X/2, 0)   coordinate (A')  ( \X/2, 0)   coordinate (B')
%      ( \X/2,2*\X) coordinate (C')  (-\X/2,2*\X) coordinate (D');
%
%    \path [shift={(3D cs:x=\x,y=4*sin \x)}, yslant=cos(\x)/5]
%      (-\X/2, 0)   coordinate (A) ( \X/2, 0)   coordinate (B)
%      ( \X/2,2*\X) coordinate (C) (-\X/2,2*\X) coordinate (D);
%
%    \filldraw [black!90] (B) -- (B') -- (C') -- (C)  -- cycle;
%    \filldraw [black!80] (A) -- (A') -- (D') -- (D)  -- cycle;
%    \filldraw [black!70] (C) -- (D)  -- (D') -- (C') -- cycle;
%    \filldraw [black]    (A) -- (B)  -- (C)  -- (D)  -- cycle;
%
%    \node [text=white, shift={($(C)!0.5!(D)$)}, anchor=north,
%      yslant=cos(\x)/5, font=\sf, scale=\sc*1.5] at (0,-.33*\X) {\n};
  }
  %
%  \foreach \i [evaluate={\x=\i*30-10; \X=1; \n=int(5-\i); \xsl=\x/180}]
%    in {1,...,4} {
%
%    \path [shift={(3D cs:x=\x+\e,y=-3*\x/90)}, yslant=cos \e/5, xslant=\xsl]
%      (-\X/2, 0)           coordinate (A) ( \X/2, 0)           coordinate (B)
%      ( \X/2, \X*2-\x/360) coordinate (C) (-\X/2, \X*2-\x/360) coordinate (D);
%
%    \path [shift={(3D cs:x=\x+\e,y=-3*\x/90)}, shift={(5/50,5/50-\i*2/50)},
%      yslant=cos \e/5, xslant=\xsl]
%      (-\X/2, 0)           coordinate (A') ( \X/2, 0)           coordinate (B')
%      ( \X/2, \X*2-\x/330) coordinate (C') (-\X/2, \X*2-\x/330) coordinate (D');
%
%    \filldraw [black!70] (C) -- (D)  -- (D') -- (C') -- cycle;
%    \filldraw [black!70] (A) -- (B)  -- (B') -- (A') -- cycle;
%    \filldraw [black!90] (B) -- (B') -- (C') -- (C)  -- cycle;
%    \filldraw [black]    (A) -- (B)  -- (C)  -- (D)  -- cycle;
%
%    \node [text=white, shift={($(C)!0.5!(D)$)}, anchor=north, xslant=\xsl,
%      yslant=cos \e/5, font=\sf, scale=1.5] at (0,-.33*\X) {\n};
%  }
\end{tikzpicture}
\end{document}